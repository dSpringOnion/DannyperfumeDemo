"use strict";exports.id=392,exports.ids=[392],exports.modules={1547:(a,b,c)=>{c.d(b,{j2:()=>q,Y9:()=>p});var d=c(52388),e=c(11239),f=c(56918),g=c(21654),h=c(66382),i=c(15391),j=c(5486),k=c.n(j),l=c(11722);async function m(a){try{return await f.z.user.findUnique({where:{email:a}})}catch(a){return console.error("Error fetching user by email:",a),null}}let n=l.Ikc({email:l.YjP().email(),password:l.YjP().min(6)}),o={providers:[(0,g.A)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET}),(0,h.A)({clientId:process.env.GITHUB_CLIENT_ID,clientSecret:process.env.GITHUB_CLIENT_SECRET}),(0,i.A)({credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(a){let b=n.safeParse(a);if(!b.success)return null;let{email:c,password:d}=b.data,e=await m(c);return e&&e.password&&await k().compare(d,e.password)?{id:e.id,email:e.email,name:e.name,image:e.image,role:e.role}:null}})],pages:{signIn:"/auth/signin",signOut:"/auth/signout",error:"/auth/error",verifyRequest:"/auth/verify-request"},callbacks:{jwt:async({token:a,user:b})=>(b&&(a.id=b.id,a.role=b.role),a),session:async({session:a,token:b})=>(b&&a.user&&(a.user.id=b.id,a.user.role=b.role),a)},session:{strategy:"jwt"}},{handlers:p,auth:q,signIn:r,signOut:s}=(0,d.Ay)({adapter:(0,e.y)(f.z),...o})},10460:(a,b,c)=>{c.d(b,{Y:()=>t});var d=c(93401),e=c(31236),f=c.n(e),g=c(1547),h=c(41410),i=c(62823),j=c(59174),k=c(36572),l=c(88377);let m=k.forwardRef(({className:a,type:b,...c},e)=>(0,d.jsx)("input",{type:b,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));m.displayName="Input";var n=c(36833),o=c(8430),p=c(16961),q=c(24200),r=c(69735);async function s(){let a=await (0,g.j2)();if(!a?.user)return await (0,r.WD)();{let{itemCount:b}=await (0,q.Tj)(a.user.id);return b}}async function t(){let a=await (0,g.j2)(),b=await s();return(0,d.jsxs)("header",{className:"sticky top-0 z-50 w-full border-b bg-white/98 dark:bg-gray-900/98 backdrop-blur-md shadow-sm","data-testid":"header",children:[(0,d.jsx)("div",{className:"container max-w-7xl mx-auto px-4",children:(0,d.jsxs)("div",{className:"flex h-16 items-center gap-6",children:[(0,d.jsxs)(f(),{href:"/",className:"flex items-center gap-2 flex-shrink-0 mr-2",children:[(0,d.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg shadow-md",children:(0,d.jsx)(n.A,{className:"h-5 w-5 text-white"})}),(0,d.jsx)("span",{className:"hidden sm:inline text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"ShopHub"})]}),(0,d.jsx)("div",{className:"hidden md:flex flex-1 max-w-xl",children:(0,d.jsxs)("div",{className:"relative w-full",children:[(0,d.jsx)(o.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,d.jsx)(m,{type:"search",placeholder:"Search products...",className:"pl-10 h-10 w-full bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 focus-visible:ring-2 focus-visible:ring-blue-500 rounded-lg"})]})}),(0,d.jsxs)("nav",{className:"hidden lg:flex items-center space-x-8 text-sm font-medium",children:[(0,d.jsx)(f(),{href:"/products","data-testid":"nav-products",className:"transition-colors hover:text-blue-600 text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Products"}),(0,d.jsx)(f(),{href:"/categories","data-testid":"nav-categories",className:"transition-colors hover:text-blue-600 text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Categories"}),a?.user.role==="ADMIN"||a?.user.role==="SUPER_ADMIN"?(0,d.jsx)(f(),{href:"/admin","data-testid":"nav-admin",className:"transition-colors hover:text-blue-600 text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Admin"}):null]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 ml-auto",children:[(0,d.jsx)(j.$,{variant:"ghost",size:"icon",className:"relative hover:bg-gray-100 dark:hover:bg-gray-800",asChild:!0,children:(0,d.jsxs)(f(),{href:"/cart","data-testid":"cart-icon",children:[(0,d.jsx)(p.A,{className:"h-5 w-5"}),b>0&&(0,d.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-blue-600 text-white text-xs flex items-center justify-center font-bold shadow-lg",children:b}),(0,d.jsxs)("span",{className:"sr-only",children:["Cart (",b,")"]})]})}),(0,d.jsx)(h.ThemeToggle,{}),a?(0,d.jsx)(i.UserNav,{user:a.user}):(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(j.$,{variant:"ghost",asChild:!0,className:"hidden md:flex hover:bg-gray-100 dark:hover:bg-gray-800",children:(0,d.jsx)(f(),{href:"/auth/signin","data-testid":"signin-button",children:"Sign In"})}),(0,d.jsx)(j.$,{asChild:!0,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-md hover:shadow-lg transition-all",children:(0,d.jsx)(f(),{href:"/auth/signup","data-testid":"signup-button",children:"Sign Up"})})]})]})]})}),(0,d.jsx)("div",{className:"md:hidden border-t bg-gray-50/50 dark:bg-gray-900/50 px-4 py-3",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(o.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,d.jsx)(m,{type:"search",placeholder:"Search products...",className:"pl-10 h-10 bg-white dark:bg-gray-800 rounded-lg"})]})})]})}},13072:(a,b,c)=>{c.d(b,{ThemeToggle:()=>j});var d=c(17091);c(82390);var e=c(44968),f=c(67141),g=c(88310),h=c(3732),i=c(89771);function j(){let{setTheme:a}=(0,g.D)();return(0,d.jsxs)(i.rI,{children:[(0,d.jsx)(i.ty,{asChild:!0,children:(0,d.jsxs)(h.$,{variant:"outline",size:"icon","data-testid":"theme-toggle",children:[(0,d.jsx)(e.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0 pointer-events-none"}),(0,d.jsx)(f.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100 pointer-events-none"}),(0,d.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,d.jsxs)(i.SQ,{align:"end",children:[(0,d.jsx)(i._2,{onClick:()=>a("light"),children:"Light"}),(0,d.jsx)(i._2,{onClick:()=>a("dark"),children:"Dark"}),(0,d.jsx)(i._2,{onClick:()=>a("system"),children:"System"})]})]})}},24200:(a,b,c)=>{c.d(b,{Tj:()=>f,Xl:()=>e});var d=c(56918);async function e(a){return d.z.cartItem.findMany({where:{userId:a},include:{product:{include:{category:!0}},variant:!0},orderBy:{createdAt:"desc"}})}async function f(a){let b=await e(a),c=b.reduce((a,b)=>a+Number(b.variant?.price||b.product.price)*b.quantity,0);return{itemCount:b.reduce((a,b)=>a+b.quantity,0),subtotal:c}}},41410:(a,b,c)=>{c.d(b,{ThemeToggle:()=>d});let d=(0,c(26509).registerClientReference)(function(){throw Error("Attempted to call ThemeToggle() from the server but ThemeToggle is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielpark/Documents/testClaudeCode/ecommerceboilerplate/src/components/ui/theme-toggle.tsx","ThemeToggle")},44302:(a,b,c)=>{c.d(b,{UserNav:()=>o});var d=c(17091),e=c(83762),f=c.n(e),g=c(22243),h=c(25071),i=c(25969),j=c(70601),k=c(89771),l=c(3732),m=c(93591);let n=(0,m.createServerReference)("009e9f57843d095bed8398940fd94692f9da08e0d3",m.callServer,void 0,m.findSourceMapURL,"signOutAction");function o({user:a}){let b=a.name?a.name.split(" ").map(a=>a[0]).join("").toUpperCase():a.email[0].toUpperCase();return(0,d.jsxs)(k.rI,{children:[(0,d.jsx)(k.ty,{asChild:!0,children:(0,d.jsx)(l.$,{variant:"outline",size:"icon",className:"rounded-full",children:(0,d.jsx)("span",{className:"text-sm font-medium",children:b})})}),(0,d.jsxs)(k.SQ,{className:"w-56",align:"end",forceMount:!0,children:[(0,d.jsx)(k.lp,{className:"font-normal",children:(0,d.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium leading-none",children:a.name||"User"}),(0,d.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:a.email})]})}),(0,d.jsx)(k.mB,{}),(0,d.jsxs)(k.I,{children:[(0,d.jsx)(k._2,{asChild:!0,children:(0,d.jsxs)(f(),{href:"/dashboard",className:"cursor-pointer",children:[(0,d.jsx)(g.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Dashboard"})]})}),(0,d.jsx)(k._2,{asChild:!0,children:(0,d.jsxs)(f(),{href:"/orders",className:"cursor-pointer",children:[(0,d.jsx)(h.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Orders"})]})}),(0,d.jsx)(k._2,{asChild:!0,children:(0,d.jsxs)(f(),{href:"/settings",className:"cursor-pointer",children:[(0,d.jsx)(i.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Settings"})]})})]}),(0,d.jsx)(k.mB,{}),(0,d.jsxs)(k._2,{className:"cursor-pointer text-destructive focus:text-destructive",onSelect:async a=>{a.preventDefault(),await n()},children:[(0,d.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,d.jsx)("span",{children:"Log out"})]})]})]})}},56918:(a,b,c)=>{c.d(b,{z:()=>e});var d=c(96330);let e=globalThis.prisma??new d.PrismaClient({log:["error"]})},59174:(a,b,c)=>{c.d(b,{$:()=>j});var d=c(93401),e=c(36572),f=c(18839),g=c(41735),h=c(88377);let i=(0,g.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...g},j)=>{let k=e?f.DX:"button";return(0,d.jsx)(k,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},62823:(a,b,c)=>{c.d(b,{UserNav:()=>d});let d=(0,c(26509).registerClientReference)(function(){throw Error("Attempted to call UserNav() from the server but UserNav is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/danielpark/Documents/testClaudeCode/ecommerceboilerplate/src/components/layout/user-nav.tsx","UserNav")},69735:(a,b,c)=>{c.d(b,{DE:()=>e,WD:()=>f});var d=c(27219);async function e(){let a=(await (0,d.UL)()).get("guest_cart");if(!a?.value)return[];try{return JSON.parse(a.value)}catch{return[]}}async function f(){return(await e()).reduce((a,b)=>a+b.quantity,0)}},85847:(a,b,c)=>{c.d(b,{w:()=>g});var d=c(93401),e=c(31236),f=c.n(e);function g(){let a=new Date().getFullYear();return(0,d.jsx)("footer",{className:"border-t bg-background",children:(0,d.jsxs)("div",{className:"container py-8 md:py-12",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-8 md:grid-cols-4",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold",children:"Shop"}),(0,d.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/products",className:"text-muted-foreground hover:text-foreground",children:"All Products"})}),(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/categories",className:"text-muted-foreground hover:text-foreground",children:"Categories"})}),(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/cart",className:"text-muted-foreground hover:text-foreground",children:"Shopping Cart"})})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold",children:"Account"}),(0,d.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/dashboard",className:"text-muted-foreground hover:text-foreground",children:"Dashboard"})}),(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/orders",className:"text-muted-foreground hover:text-foreground",children:"Orders"})}),(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/settings",className:"text-muted-foreground hover:text-foreground",children:"Settings"})})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold",children:"Company"}),(0,d.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/about",className:"text-muted-foreground hover:text-foreground",children:"About"})}),(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/contact",className:"text-muted-foreground hover:text-foreground",children:"Contact"})}),(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/blog",className:"text-muted-foreground hover:text-foreground",children:"Blog"})})]})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold",children:"Legal"}),(0,d.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/privacy",className:"text-muted-foreground hover:text-foreground",children:"Privacy Policy"})}),(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/terms",className:"text-muted-foreground hover:text-foreground",children:"Terms of Service"})}),(0,d.jsx)("li",{children:(0,d.jsx)(f(),{href:"/returns",className:"text-muted-foreground hover:text-foreground",children:"Returns"})})]})]})]}),(0,d.jsxs)("div",{className:"mt-8 border-t pt-8 text-center text-sm text-muted-foreground",children:[(0,d.jsxs)("p",{children:["\xa9 ",a," Ecommerce Boilerplate. All rights reserved."]}),(0,d.jsx)("p",{className:"mt-2",children:"Built with ❤️ using Next.js, Prisma, and Auth.js"})]})]})})}},89771:(a,b,c)=>{c.d(b,{I:()=>k,SQ:()=>l,_2:()=>m,lp:()=>n,mB:()=>o,rI:()=>i,ty:()=>j});var d=c(17091),e=c(82390),f=c(48442),g=c(77967),h=c(11384);let i=f.bL,j=f.l9,k=f.YJ;f.ZL,f.Pb,f.z6,e.forwardRef(({className:a,inset:b,children:c,...e},i)=>(0,d.jsxs)(f.ZP,{ref:i,className:(0,g.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",b&&"pl-8",a),...e,children:[c,(0,d.jsx)(h.vKP,{className:"ml-auto"})]})).displayName=f.ZP.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.G5,{ref:c,className:(0,g.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...b})).displayName=f.G5.displayName;let l=e.forwardRef(({className:a,sideOffset:b=4,...c},e)=>(0,d.jsx)(f.ZL,{children:(0,d.jsx)(f.UC,{ref:e,sideOffset:b,className:(0,g.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...c})}));l.displayName=f.UC.displayName;let m=e.forwardRef(({className:a,inset:b,...c},e)=>(0,d.jsx)(f.q7,{ref:e,className:(0,g.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",b&&"pl-8",a),...c}));m.displayName=f.q7.displayName,e.forwardRef(({className:a,children:b,checked:c,...e},i)=>(0,d.jsxs)(f.H_,{ref:i,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:c,...e,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.VF,{children:(0,d.jsx)(h.Srz,{className:"h-4 w-4"})})}),b]})).displayName=f.H_.displayName,e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.hN,{ref:e,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.VF,{children:(0,d.jsx)(h.RiX,{className:"h-2 w-2 fill-current"})})}),b]})).displayName=f.hN.displayName;let n=e.forwardRef(({className:a,inset:b,...c},e)=>(0,d.jsx)(f.JU,{ref:e,className:(0,g.cn)("px-2 py-1.5 text-sm font-semibold",b&&"pl-8",a),...c}));n.displayName=f.JU.displayName;let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.wv,{ref:c,className:(0,g.cn)("-mx-1 my-1 h-px bg-muted",a),...b}));o.displayName=f.wv.displayName}};